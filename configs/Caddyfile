api.engram.rawcontext.com {
	# Search service endpoints
	handle /v1/search/* {
		reverse_proxy search:6176
	}

	# Tuner service endpoints
	handle /v1/tuner/* {
		reverse_proxy tuner:6177
	}

	# Ingestion service endpoints
	handle /ingest {
		reverse_proxy ingestion:6175
	}

	# API service (memory, keys, usage, tofu, health)
	handle /v1/* {
		reverse_proxy api:6174
	}

	handle {
		respond "Not Found" 404
	}
}

observatory.engram.rawcontext.com {
	reverse_proxy observatory:3000
}

console.engram.rawcontext.com {
	reverse_proxy console:3000
}
