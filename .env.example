# Engram Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# Infrastructure
# =============================================================================

# Redis (FalkorDB uses Redis protocol)
REDIS_URL=redis://localhost:6379

# Qdrant vector database
QDRANT_URL=http://localhost:6333

# =============================================================================
# Reranking Configuration
# =============================================================================

# Enable/disable reranking globally (default: true)
RERANK_ENABLED=true

# Default reranker tier: fast | accurate | code | llm (default: fast)
RERANK_DEFAULT_TIER=fast

# Number of candidates to fetch for reranking (default: 30)
RERANK_DEPTH=30

# Maximum time to wait for reranking before fallback to RRF (default: 500)
RERANK_TIMEOUT_MS=500

# =============================================================================
# Reranker Models (HuggingFace model IDs)
# =============================================================================

# Fast tier: optimized for speed (< 50ms)
RERANK_MODEL_FAST=Xenova/ms-marco-MiniLM-L-6-v2

# Accurate tier: higher quality for complex queries
RERANK_MODEL_ACCURATE=Xenova/bge-reranker-base

# Code tier: specialized for code search
RERANK_MODEL_CODE=jinaai/jina-reranker-v2-base-multilingual

# ColBERT: late interaction model for scale
RERANK_MODEL_COLBERT=jinaai/jina-colbert-v2

# =============================================================================
# LLM Reranking (Premium Tier)
# =============================================================================

# Enable LLM-based listwise reranking (default: false)
LLM_RERANK_ENABLED=false

# LLM model for reranking
LLM_RERANK_MODEL=grok-4-1-fast-reasoning

# Maximum candidates to send to LLM (default: 10)
LLM_RERANK_MAX_CANDIDATES=10

# xAI API key for Grok models
XAI_API_KEY=your-xai-api-key
